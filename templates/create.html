{% extends 'base.html' %}

{% block content %}
<h1>{% block title %} Create a New Recipe {% endblock %}</h1>

<!--This is the crap for the auto complete stuff-->
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js">
    </script>  
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js">
    </script>  
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/ui-lightness/jquery-ui.css"
        rel="stylesheet" type="text/css" />
</head>

<form method="post">
    
    <div class="form-group">
        <label for="title">Name</label>
        <input type="text" name="name"
               placeholder="Recipe name" class="form-control"
               value="{{ request.form['name'] }}">
    </div>

    <div class="form-group">
        <label for="content">Notes</label>
        <textarea name="recipe" placeholder="Recipe notes"
                  class="form-control">{{ request.form['recipe'] }}</textarea>
    </div>
    
<!--This is for the auto complete-->
    <input type="text" id="tags">
    <script>
        $( function() {
            var availableTags = [
                {% for ingredient in ingredients %}
                "{{  ingredient['name']  }}",
                {% endfor %}
            ];
            $( "#tags" ).autocomplete({
                source: availableTags
            });
        } );
    </script>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
    
</form>

{% endblock %}


